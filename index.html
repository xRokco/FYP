<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Basic Page Needs
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <meta charset="utf-8">
        <title>FYP</title>
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Mobile Specific Metas
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- FONT
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

        <!-- CSS
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link rel="stylesheet" href="css/normalize.css" type="text/css">
        <link rel="stylesheet" href="css/skeleton.css" type="text/css">
        <link rel="stylesheet" href="css/custom.css" type="text/css">
        <link rel="stylesheet" href="css/farbtastic.css" type="text/css">

        <!-- Scripts
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script type="text/javascript" src="js/farbtastic.js"></script>
        <script type="text/javascript" src="js/fabric.js"></script>

        <!-- Favicon
        –––––––––––––––––––––––––––––––––––––––––––––––––– -->
        <link rel="icon" type="image/png" href="dist/images/favicon.png">

    </head>
    <body>
        <header>
            <nav class="navbar">
                <ul class="navbar-list">
                    <li class="navbar-item">
                        <a class="navbar-link" href="#" data-popover="#fileMenu">File</a>
                        <div id="fileMenu" class="popover">
                            <ul class="popover-list">
                                <li class="popover-item">
                                    <a class="popover-link" href="javascript:void(0)" id="newCanvasButton">New</a>
                                </li>
                                <li class="popover-item">
                                    <label for="background">
                                        <p class="popover-link" href="javascript:void(0)">Open</p>
                                    </label>
                                    <input id="background" type="file"/>
                                </li>
                                <li class="popover-item">
                                    <a class="popover-link" href="#grid">Save</a>
                                </li>
                                <li class="popover-item">
                                    <a href="javascript:void(0)" class="popover-link" id="exportButton">Export</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="navbar-item">
                        <a class="navbar-link" href="#" data-popover="#editMenu">Edit</a>
                        <div id="editMenu" class="popover">
                            <ul class="popover-list">
                                <li class="popover-item">
                                    <a class="popover-link" href="#grid">Rotate</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="navbar-item">
                        <a class="navbar-link" href="#" data-popover="#imageMenu">Image</a>
                        <div id="imageMenu" class="popover">
                            <ul class="popover-list">
                                <li class="popover-item">
                                    <a class="popover-link">Export</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="navbar-item">
                        <a class="navbar-link" href="#" data-popover="#helpMenu">Help</a>
                        <div id="helpMenu" class="popover">
                            <ul class="popover-list">
                                <li class="popover-item">
                                    <a class="popover-link" href="#grid">About</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>
        <div id="mask">
            <div class="tools drag">
                <img id="drawing-mode" class="tool" src="images/tools/pencil.png" title="brush tool">
                <label for="selectFile" title="image upload">
                    <img class="tool" onclick="hideOptions()" src="images/tools/image.png"/>
                </label>
                <input id="selectFile" type="file"/>
                <img id="rectangle-mode" class="tool" src="images/tools/rectangle.png" title="rectangle draw tool">
                <img id="circle-mode" class="tool" src="images/tools/circle.png" title="circle draw tool">
                <img id="select-mode" class="tool" src="images/tools/select.png" title="object select tool">
                <img id="text-mode" class="tool" src="images/tools/pencil.png" title="text tool">
                <img class="tool" src="images/tools/fill.png">
                <img class="tool" src="images/tools/image.png">
                <img class="tool" src="images/tools/fill.png">
                <img class="tool" src="images/tools/pencil.png">
                <img class="tool" src="images/tools/image.png">
                <img class="tool" src="images/tools/man.png">
            </div>

            <div class="drag toolOptions">
                <div style="display: none;" id="drawing-mode-options" class="options">
                    <label for="drawing-line-width">Line width:</label>
                    <input type="range" value="10" min="0" max="150" id="drawing-line-width"><br>
                </div>
                <div style="display: none;" id="shape-mode-options" class="options">
                    <label for="shape-line-width">Line width:</label>
                    <input type="range" value="10" min="0" max="150" id="shape-line-width"><br>
                    <label for="shape-fill">Fill:</label>
                    <input type="checkbox" id="shape-fill"/><br/>
                    <label for="lock">Lock aspect ratio:</label>
                    <input type="checkbox" id="lock"/><br/>
                </div>
                <div style="display: none;" id="text-mode-options" class="options">
                    <label for="text">Text:</label><input type="text" name="text" id="text">
                    <label for="font">Font:</label>
                    <select id="font">
                        <option value="Raleway">Raleway</option>
                        <option value="Arial">Arial</option>
                        <option value="Times New Roman">Times New Roman</option>
                        <option value="Courier New">Courier New</option>
                    </select>
                </div>
            </div>

            <div class="colorwrapper drag">
                <div id="colorpicker"></div>
                <br/>
                <form><input type="text" id="colorvalue" name="color" value="#000000" autocomplete="off" /></form>
                <form>
                    <label>r: <input type="text" class="rgbvalue" id="rvalue" name="rvalue" value="0" autocomplete="off" /></label>
                    <label>g: <input type="text" class="rgbvalue" id="gvalue" name="gvalue" value="0" autocomplete="off" /></label>
                    <label>b: <input type="text" class="rgbvalue" id="bvalue" name="bvalue" value="0" autocomplete="off" /></label>
                </form>
                <form>
                    <label>h: <input type="text" class="hslvalue" id="hvalue" name="hvalue" value="0" autocomplete="off" /></label>
                    <label>s: <input type="text" class="hslvalue" id="svalue" name="svalue" value="0" autocomplete="off" /></label>
                    <label>l: <input type="text" class="hslvalue" id="lvalue" name="lvalue" value="0" autocomplete="off" /></label>
                </form>
            </div>

            <div id="layers" class="drag">
                
            </div>

        
            <div id="canvasWrapper">
                <canvas id="c" style="border:1px solid silver"></canvas>
            </div>
        </div>

        <div id="exportModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <!--<div class="modal-close-icon">-->
                <a href="javascript:void(0)" class="close"><i class="fa fa-times"></i></a>
                <h4>Export as...</h4>
                <ul>
                    <li><a href="javascript:void(0)" onclick="window.open(canvas.toDataURL( {format: 'png' }))"">PNG</a> - This format is capable of displaying transparency, and is good for images with text or other fine details, but will result in larger file sizes.</li>
                    <li><a href="javascript:void(0)" onclick="window.open(canvas.toDataURL( {format: 'jpeg' }))"">JPG</a> - This format is good for photos or images without fine details. Any transparent areas will be made black, though.</li>
                    <li><a href="javascript:void(0)" onclick="document.getElementById('json').innerHTML = JSON.stringify(canvas, null, 4)">JSON</a> - This is a specially formatted text file which allows you to save your image editing progress to pick it up later.</li>
                    <li><a onclick="">SVG</a></li>
                </ul>

                <pre><code id="json"></code></pre>
            </div>
        </div>

        <div id="newCanvasModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <!--<div class="modal-close-icon">-->
                <a href="javascript:void(0)" class="close"><i class="fa fa-times"></i></a>
                <h4>New canvas...</h4>
                <form class="form">
                    <div class="row">
                        <div class="six columns">
                            <label for="width">Width: </label> <input type="number" name="width" id="width"><br>
                        </div>
                        <div class="six columns">
                            <label for="height">Height: </label><input type="number" name="height" id="height"><br>
                        </div>
                    </div>
                    <div class="row" style="border-bottom: 1px solid silver;padding-bottom: 15px;margin-bottom: 15px;">
                        <div class="six columns">
                            <label for="bgcolour">Background colour: </label> <input type="text" name="bgcolour" id="bgcolour">
                        </div>
                        <div class="six columns">
                            <label for="transparent">Transparent background: </label><input type="checkbox" name="transparent" id="transparent">
                        </div>
                    </div>

                    <input class="button-primary" onclick="newCanvas(document.getElementById('width').value,document.getElementById('height').value)" value="Create" type="submit">
                </form>
            </div>
        </div>

        <footer>
            <!-- More Scripts
            –––––––––––––––––––––––––––––––––––––––––––––––––– -->
            <script type="text/javascript" src="js/custom.js"></script>
        </footer>
    </body>
